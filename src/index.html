<!DOCTYPE html>
<meta charset="utf-8">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="index.css">

<body>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.7.1/svg.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <script type="text/javascript" src="https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.js"></script>
  <script type="text/javascript" src="./arrower.js"></script>
  <script type="text/javascript" src="./protein_drawer.js"></script>
  <!-- <script type="text/javascript" src="./regions-test.js"></script> -->
  <div id="menu_bar">
    <!-- Rounded switch -->


<button class="start_button" onclick="showImpressum()"><strong>Impressum</strong></button>

    <button type="button" class="start_button" onclick="create_empty_BGC()"> <strong>Create empty BGC
      </strong></button>
    <button type="button" class="start_button"
      onclick="fetchFromRaichu(details_data, regionName,geneMatrix, cluster_type, BGC)"> <strong>Refresh
        structures</strong></button>
    <button type="button" class="start_button" onclick="reload_site_with_genecluster()"><strong> Reset
        view</strong></button>
    <label class="switch">
      <input id="real-time-button" type="checkbox">
      <span class="slider round"></span>
    </label>
    <div id="fake_button"> Real time calculation</div>
  </div>
  <div id="regionsBar"> Drop region.js antiSMASH output here</div>
  <div id="BGC_explorer">
    <div class="heading-container" id="BGCHeading"> Biosynthetic gene cluster explorer</div>
    <div class="container" id="arrow_container"> </div>
  </div>
  <div id="Gene_explorer">
    <div class="heading-container"> Gene explorer</div>
    <div id="gene_container">
    </div>
  </div>
  </div>

  </div>
  <div id="Protein_explorer">
    <div class="heading-container"> Protein explorer</div>
    <div class="protein-container" id="protein_container"> </div>
  </div>
  </div>
  <div id="Domain_explorer" class="Domain_explorer">
    <div class="heading-container"> Biosynthetic model
      <button type="button" class="start_button" onclick="openForm()" id="add_module_button"><strong>Add
          Module</strong></button>
      <button type="button" class="start_button" onclick="openTailoringForm()" id="add_tailoring_enzyme_button"><strong>Add
          tailoring Enzyme</strong></button>
      <button type="button" class="start_button" id="ripp_button" onclick="openRiPPForm()"><strong><a> RiPP BGC
          </a></strong></button>
    </div>
    <div id="outerDomainExplorer" class="outerDomainExplorer">

      <div class="module-container" id="model_gene_container"> </div>
      <div class="module-container" id="module_container"> </div>
      <div class="domain-container" id="domain_container"> </div>
    </div>
    <button type="button" class="start_button" id="save_biosynthetic_model_button" onclick="PrintDiv()"><strong><a>Save
          biosynthetic model with tayloring enzymes (png)</a></strong></button>
    <button type="button" class="start_button" id="save_biosynthetic_model_button"><a
        id="save_complete_cluster_svg"><strong> Save
          biosynthetic model withOUT tayloring enzymes (svg)</strong></a></button>
  </div>
  <div id="Structure_explorer">
    <div class="heading-container"> Structure explorer</div>
    <div id="structure_container"> </div>
    <div id="button_container">
      <button type="button" class="start_button" id="save_button"> <a id="save_svg"><strong> Download
            SVG</strong></a></button>
      <button type="button" class="start_button" id="Zoom_out_button" onclick="zoom_in()"><a><strong>Zoom
            in</strong></a></button>
      <button type="button" class="start_button" id="Zoom_in_button" onclick="zoom_out()"><a><strong>Zoom
            out</strong></a></button>
      <button type='button' class='start_button' id = "smiles_button"><a><strong> Copy SMILES to clipboard </strong></a></button>
  </div>
  </div>
  <div class="loginPopup">
    <div class="formPopup" id="popupForm">
      <form class="formContainer">

        <button type="button" class="btn" onclick="openNRPSForm();closeForm()">NRPS</button>
        <button type="button" class="btn" onclick="openPKSForm();closeForm()">PKS</button>
        <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
      </form>
    </div>
  </div>
  <div class="loginPopup">
    <div class="formPopup" id="popupFormTailoring">
      <div class="formContainer">
          <div class="dropdown">
            <button type="button" class="dropbtn">Tailoring Enzyme</button>
            <div class="dropdown-content" id = "dropdownWildcard">

              </div>
              </div>
                        <button type="button" class="btn" onclick="addWildcardTailoring(geneMatrix);closeTailoringForm()">Submit</button>
                        <button type="button" class="btn cancel" onclick="closeTailoringForm()">Close</button>
      </div>
    </div>
  </div>
    <div class="formPopup" id="popupFormTerpene">
      <div class="formContainer">
        Select a substrate if you want this BGC to be processed as a Terpene BGC.
        <br>
          <div class="dropdown">
            <button type="button" class="dropbtn">Substrate</button>
            <div class="dropdown-content" id = dropdownContentTerpene>
            </div>
          </div>
        <button type="button" class="btn" onclick="fetchFromRaichu();closeFormTerpene()">Submit</button>
        <button type="button" class="btn cancel" onclick="closeFormTerpene()">Close</button>
      </form>
    </div>
  </div>
  <div class="loginPopup">
    <div class="formPopup" id="popupFormPKS">
      <form class="formContainer">
        <div class="dropdown">
          <button type="button" class="dropbtn">Substrate</button>
          <div class="dropdown-content">
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('malonylcoa')">malonylcoa</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('methylmalonylcoa')">methylmalonylcoa</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('ethylmalonylcoa')">ethylmalonylcoa</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('methoxymalonylacp')">methoxymalonylacp</button>
          </div>
        </div>
        <div class="dropdown">
          <button type="button" class="dropbtn">Module Type</button>
          <div class="dropdown-content">
            <button type="button" onclick="setWildcardModule('starter_module_pks')">Starter Module</button>
            <button type="button" onclick="setWildcardModule('elongation_module_pks')">Elongation Module</button>
            <button type="button" onclick="setWildcardModule('terminator_module_pks')">Terminator Module</button>
          </div>
        </div>
        <br>
        <input type="checkbox" id="wildcardKR" name="wildcardKR" value="true">
        <label for="wildcardKR"> Ketoreductase domain</label><br>
        <input type="checkbox" id="wildcardDH" name="wildcardDH" value="true">
        <label for="wildcardDH"> Dehydratase domain</label><br>
        <input type="checkbox" id="wildcardER" name="wildcardER" value="true">
        <label for="wildcardER"> Enoylreductase domain</label><br>
        <button type="button" class="btn" onclick="addWildcard(geneMatrix);closePKSForm()">Submit</button>
        <button type="button" class="btn cancel" onclick="closePKSForm()">Close</button>
      </form>
    </div>
  </div>
  <div class="loginPopup">
    <div class="formPopup" id="popupFormNRPS">
      <form class="formContainer">
        <div class="dropdown">
          <button type="button" class="dropbtn">Substrate</button>
          <div class="dropdown-content">
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('alanine')">alanine</button>
            <button type="button" onclick="setWildcardSubstrate('cysteine')">cysteine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('asparticacid')">aspartic
              acid</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('glutamicacid')">glutamic
              acid</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('phenylalanine')">phenylalanine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('glycine')">glycine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('histidine')">histidine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('isoleucine')">isoleucine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('lysine')">lysine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('leucine')">leucine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('methionine')">methionine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('asparagine')">asparagine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('pyrrolysine')">pyrrolysine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('proline')">proline</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('glutamine')">glutamine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('arginine')">arginine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('serine')">serine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('threonine')">threonine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('selenocysteine')">selenocysteine</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('valine')">valine</button>
            <button class="wildcardsubstrate" type="button"
              onclick="setWildcardSubstrate('tryptophan')">tryptophan</button>
            <button class="wildcardsubstrate" type="button" onclick="setWildcardSubstrate('tyrosine')">tyrosine</button>
          </div>
        </div>
        <div class="dropdown">
          <button type="button" class="dropbtn">Module Type</button>
          <div class="dropdown-content">

            <button type="button" onclick="setWildcardModule('starter_module_nrps')">Starter Module</button>
            <button type="button" onclick="setWildcardModule('elongation_module_nrps')">Elongation Module</button>
            <button type="button" onclick="setWildcardModule('terminator_module_nrps')">Terminator Module</button>
          </div>
        </div>
        <br>
        <input type="checkbox" id="wildcardE" name="wildcardE" value="true">
        <label for="wildcardE"> Epimerization</label><br>
        <button type="button" class="btn" onclick="addWildcard(geneMatrix);closeNRPSForm()">Submit</button>
        <button type="button" class="btn cancel" onclick="closeNRPSForm()">Close</button>
      </form>
    </div>
  </div>
  <div class="formPopup" id="popupFormRiPP">
    <form class="formContainer">
      <div class="dropdown" style="width: 100%;">
        <button type="button" class="btn cancel">Select RiPP precursor</button>
        <div class="dropdown-content" id="ripp_precursor_selection">
        </div>
      </div>
      <br>
      <div> <strong> Select core peptide from amino acid sequence. If no core peptide is selected, the last 5 amino acids will be used.</strong></div>
      <textarea spellcheck="false"  placeholder="The amino acid sequence will appear here" style="resize: none;">
      </textarea>
      <br>
      <input type="checkbox" id="wildcardProtease" name="wildcardProtease" value="true">
      <label for="wildcardProtease"> Add Protease</label><br>
      <!-- <input type="checkbox" id="wildcardCyclase" name="wildcardCyclase" value="true">
      <label for="wildcardCyclase"> Add Cyclase</label><br> -->
      <button type="button" class="btn" onclick="addRiPP(geneMatrix, rippSelection);closeRiPPForm()">Submit</button>
      <button type="button" class="btn cancel" onclick="closeRiPPForm()">Close</button>
    </form>
  </div> 
  <div id="popupImpressum" class="formPopup" >
    <h2>Impressum and Contact Information</h2>
    <p>If you have any questions, suggestions or bugs to report, please contact Friederike Biermann</p>
    <p>Email: <a href="mailto:f.biermann@bio.uni-frankfurt.de">f.biermann@bio.uni-frankfurt.de</a></p>
    <p>Group Name: Medema Lab, Bioinformatics</p>
    <p>Address: Droevendaalsesteeg 1, 6708PB WAGENINGEN</p>
  </div>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.1.1/d3.js"></script>
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
<script type="text/css" src="http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css"></script>
  <script type="text/javascript" src="./default_domains.js"></script>
  <script type="text/javascript" src="./protein_drawer.js"></script>
  <script type="text/javascript" src="./domain_drawer.js"></script>
  <script type="text/javascript" src="./ripp_drawer.js"></script>
  <script type="text/javascript" src="./terpene_drawer.js"></script>
  <script type="text/javascript" src="./option_creator.js"></script>
  <script type="text/javascript" src="./index.js"></script>
  <script type="text/javascript" src="./arrower.js"></script>
</body>
